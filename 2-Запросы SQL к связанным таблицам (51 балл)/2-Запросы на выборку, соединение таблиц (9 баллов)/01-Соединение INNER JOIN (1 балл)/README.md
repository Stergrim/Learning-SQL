# Соединение INNER JOIN

Оператор внутреннего соединения `INNER JOIN` соединяет две таблицы. Порядок таблиц для оператора неважен, поскольку оператор является симметричным.

```mysql
SELECT
 ...
FROM
    таблица_1 INNER JOIN таблица_2
    ON условие
...
```

Результат запроса формируется так:
- каждая строка одной таблицы сопоставляется с каждой строкой второй таблицы;
- для полученной «соединённой» строки проверяется условие соединения;
- если условие истинно, в таблицу результата добавляется соответствующая «соединённая» строка;

**Пример**

Вывести название книг и их авторов.

*Запрос:*

```mysql
SELECT title, name_author
FROM 
    author INNER JOIN book
    ON author.author_id = book.author_id;
```

Поскольку поля `author_id` в таблицах `book` и `author` называются одинаково, необходимо в запросах указывать полную ссылку на них (`book.author_id` и `author.author_id`).

*Результат:*

```mysql
+-----------------------+------------------+
| title                 | name_author      |
+-----------------------+------------------+
| Мастер и Маргарита    | Булгаков М.А.    |
| Белая гвардия         | Булгаков М.А.    |
| Идиот                 | Достоевский Ф.М. |
| Братья Карамазовы     | Достоевский Ф.М. |
| Игрок                 | Достоевский Ф.М. |
| Стихотворения и поэмы | Есенин С.А.      |
| Черный человек        | Есенин С.А.      |
| Лирика                | Пастернак Б.Л.   |
+-----------------------+------------------+
```

В данном запросе осуществляется соединение главной таблицы `author` и зависимой таблицы `book` по ключевому столбцу `author.author_id` и внешнему ключу `book.author_id`. При этом в результирующую таблицу запроса включаются все строки, в которых значения этих столбцов совпадают. Другими словами строки зависимой таблицы `book` дополняются фамилией и инициалами авторов из таблицы `author`.

**Задание**

Вывести название, жанр и цену тех книг, количество которых больше 8, в отсортированном по убыванию цены виде.

**Логическая схема базы данных:**

<p float="left">
<img src="cx1.jpg" width="400" />
</p>

Введите SQL запрос

*Результат:*

```mysql
Query result:
+-----------------------+------------+--------+
| title                 | name_genre | price  |
+-----------------------+------------+--------+
| Стихотворения и поэмы | Поэзия     | 650.00 |
| Игрок                 | Роман      | 480.50 |
| Идиот                 | Роман      | 460.00 |
+-----------------------+------------+--------+
Affected rows: 3
```

```mysql
SELECT title, name_genre, price
FROM genre INNER JOIN book ON genre.genre_id = book.genre_id
WHERE amount > 8
ORDER BY price DESC;
```

Вы получили: 1 балл из 1
