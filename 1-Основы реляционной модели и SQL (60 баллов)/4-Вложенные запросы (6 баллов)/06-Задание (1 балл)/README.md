# Задание

**Задание**

Придумайте один или несколько запросов к нашей таблице `book`, используя вложенные запросы. Проверьте, правильно ли они работают.

Можно посмотреть, при продаже всех книг, какая книга принесет больше всего выручки, в процентах.<br>
Судя по результату, магазин хорошо вложился в Стихи Есенина

Введите SQL запрос

*Результат:*

```mysql
Query result:
+------------------+-----------------------+--------+--------+----------------+
| author           | title                 | price  | amount | income_percent |
+------------------+-----------------------+--------+--------+----------------+
| Есенин С.А.      | Стихотворения и поэмы | 650.00 | 15     | 37.12          |
| Достоевский Ф.М. | Игрок                 | 480.50 | 10     | 18.29          |
| Достоевский Ф.М. | Идиот                 | 460.00 | 10     | 17.51          |
| Булгаков М.А.    | Белая гвардия         | 540.50 | 5      | 10.29          |
| Достоевский Ф.М. | Братья Карамазовы     | 799.01 | 3      | 9.13           |
| Булгаков М.А.    | Мастер и Маргарита    | 670.99 | 3      | 7.66           |
+------------------+-----------------------+--------+--------+----------------+
Affected rows: 6
```

```mysql
SELECT author, title, price, amount,
       ROUND(100*(price*amount)/(SELECT SUM(price*amount) FROM book),2) AS income_percent
FROM book
ORDER BY income_percent DESC;
```

Вы получили: 1 балл из 1
